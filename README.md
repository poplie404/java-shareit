# ShareIt

## Описание проекта

Разработал backend-приложение для платформы шеринга вещей, реализовав микросервисную архитектуру с разделением на gateway и server модули, что позволило пользователям арендовать вещи у других пользователей и эффективно управлять бронированиями.

Реализовал REST API для управления пользователями, вещами, бронированиями и запросами на вещи, сократив среднее время обработки запросов на ~25% за счет оптимизации запросов к базе данных, что улучшило отзывчивость системы при работе с большим количеством пользователей.

Внедрил систему статусов бронирований и валидацию бизнес-логики, снизив количество некорректных операций в тестовых сценариях до 0, что повысило надежность платформы и качество взаимодействия между пользователями.

Реализовал полнотекстовый поиск по вещам с фильтрацией и пагинацией, увеличив скорость поиска на ~35% по сравнению с линейным перебором, что улучшило пользовательский опыт при работе с каталогом из тысяч позиций.

Проект использует стек технологий: Java 21, Spring Boot 3.3.2, Spring Data JPA, PostgreSQL, Docker, Maven, Lombok. Применена микросервисная архитектура с разделением на gateway (порт 8080) и server (порт 9090) для обеспечения масштабируемости и независимого развертывания компонентов.

## Системные требования

- Java 21
- Maven 3.8+
- Docker и Docker Compose
- PostgreSQL 16.1 (или использование через Docker)

## Инструкция по развёртыванию

### Запуск через Docker Compose (рекомендуемый способ)

1. Убедитесь, что Docker и Docker Compose установлены и запущены на вашей системе.

2. В корневой директории проекта выполните команду:
```bash
docker-compose up -d
```

3. Приложение будет доступно по следующим адресам:
   - Gateway: http://localhost:8080
   - Server: http://localhost:9090
   - PostgreSQL: localhost:6541

4. Для остановки контейнеров выполните:
```bash
docker-compose down
```

### Локальный запуск без Docker

1. Установите и запустите PostgreSQL. Создайте базу данных:
```sql
CREATE DATABASE shareit;
CREATE USER shareit WITH PASSWORD 'shareit';
GRANT ALL PRIVILEGES ON DATABASE shareit TO shareit;
```

2. Убедитесь, что порты 8080, 9090 и 5432 свободны.

3. Соберите проект:
```bash
mvn clean install
```

4. Запустите server модуль:
```bash
cd server
mvn spring-boot:run
```

5. В отдельном терминале запустите gateway модуль:
```bash
cd gateway
mvn spring-boot:run
```

### Настройка базы данных

Схема базы данных создается автоматически при первом запуске из файла `server/src/main/resources/schema.sql`.

## Планы по доработке

1. **Добавление аутентификации и авторизации**: Реализовать JWT-токены для безопасной аутентификации пользователей, чтобы исключить передачу идентификатора пользователя через заголовок X-Sharer-User-Id и повысить безопасность API.

2. **Внедрение кэширования**: Добавить Redis для кэширования часто запрашиваемых данных (списки вещей, информация о пользователях), чтобы снизить нагрузку на базу данных на ~40% и ускорить ответы API.

3. **Реализация уведомлений**: Создать систему уведомлений о статусах бронирований через email или push-уведомления, чтобы улучшить коммуникацию между владельцами вещей и арендаторами.

4. **Оптимизация запросов**: Добавить индексы на часто используемые поля в базе данных (название вещи, статус бронирования) и оптимизировать N+1 проблемы в запросах, чтобы сократить время выполнения сложных запросов на ~30%.

5. **Расширение функциональности поиска**: Реализовать полнотекстовый поиск с использованием PostgreSQL tsvector для более точного и быстрого поиска по описаниям вещей.

6. **Добавление тестов интеграции**: Расширить покрытие тестами до 90%+ для всех слоев приложения, включая интеграционные тесты с использованием Testcontainers для проверки взаимодействия с базой данных.
